@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── Root ─────────────────────────────────────────────────────── */
.root {
  min-height: 100vh;
  background: radial-gradient(ellipse at 25% 30%, #0d1e30 0%, #060d18 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'DM Sans', 'Segoe UI', sans-serif;
  color: #e0ecff;
  padding: 24px;
  position: relative;
  overflow: hidden;
}

/* Decorative orbs */
.orb1 {
  position: absolute;
  width: 600px; height: 600px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(22,104,220,0.14) 0%, transparent 70%);
  top: -180px; left: -180px;
  pointer-events: none;
}
.orb2 {
  position: absolute;
  width: 400px; height: 400px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(79,195,247,0.09) 0%, transparent 70%);
  bottom: -100px; right: -100px;
  pointer-events: none;
}

/* ── Card ─────────────────────────────────────────────────────── */
.card {
  background: rgba(10, 21, 32, 0.97);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 28px;
  padding: 32px 36px;
  width: 100%;
  max-width: 860px;
  box-shadow: 0 40px 100px rgba(0,0,0,0.6);
  display: flex;
  flex-direction: column;
  gap: 24px;
  position: relative;
  z-index: 2;
  animation: fadeUp 0.3s ease-out;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ── Header ───────────────────────────────────────────────────── */
.header {
  display: flex;
  align-items: center;
  gap: 14px;
}

.logo {
  font-size: 28px;
  color: #1668dc;
  flex-shrink: 0;
}

.title {
  font-size: 20px;
  font-weight: 700;
  color: #e0ecff;
  letter-spacing: -0.3px;
}

.roomCode {
  font-size: 12px;
  color: #556677;
  margin-top: 2px;
}
.roomCode span {
  color: #4fc3f7;
  font-weight: 600;
  font-family: 'Courier New', monospace;
}

.settingsBtn {
  margin-left: auto;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 10px;
  color: #8899aa;
  width: 38px;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}
.settingsBtn:hover { background: rgba(255,255,255,0.1); color: #e0ecff; }

/* ── Settings panel ───────────────────────────────────────────── */
.settingsPanel {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 14px;
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  animation: fadeUp 0.2s ease-out;
}

.settingRow {
  display: flex;
  align-items: center;
  gap: 12px;
}

.settingLabel {
  font-size: 13px;
  color: #8899aa;
  font-weight: 500;
  min-width: 110px;
}

.settingSelect {
  flex: 1;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 10px;
  color: #e0ecff;
  padding: 8px 12px;
  font-size: 13px;
  font-family: inherit;
  outline: none;
  cursor: pointer;
  transition: border-color 0.2s;
}
.settingSelect:focus { border-color: rgba(22,104,220,0.5); }
.settingSelect option { background: #0a1520; }

/* ── Body (preview + right panel) ────────────────────────────── */
.body {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 24px;
  align-items: start;
}

/* ── Preview ──────────────────────────────────────────────────── */
.previewWrap {
  position: relative;
  aspect-ratio: 16 / 9;
  background: #060d18;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.07);
}

.preview {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scaleX(-1); /* mirror */
  display: block;
  border-radius: 20px;
}

.previewHidden { opacity: 0; }

/* Loading state */
.previewLoader {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  color: #445566;
  font-size: 14px;
}

.spinner {
  width: 32px; height: 32px;
  border: 3px solid rgba(255,255,255,0.08);
  border-top-color: #1668dc;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* No camera */
.noCamera {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  color: #445566;
  font-size: 14px;
}

/* Camera off overlay */
.camOffOverlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  background: #060d18;
}

.camOffAvatar {
  width: 72px; height: 72px;
  border-radius: 50%;
  background: linear-gradient(135deg, #1668dc, #0e4fa8);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  font-weight: 700;
  color: #fff;
}

.camOffText {
  font-size: 13px;
  color: #556677;
}

/* Toggle buttons at bottom of preview */
.previewControls {
  position: absolute;
  bottom: 14px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
  z-index: 10;
}

.toggleBtn {
  width: 48px; height: 48px;
  border-radius: 50%;
  border: none;
  background: rgba(10, 21, 32, 0.85);
  backdrop-filter: blur(8px);
  color: #e0ecff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.2s, transform 0.15s;
  box-shadow: 0 4px 16px rgba(0,0,0,0.4);
}
.toggleBtn:hover:not(:disabled) { background: rgba(22,104,220,0.3); transform: scale(1.08); }
.toggleBtn:disabled { opacity: 0.4; cursor: not-allowed; }

.toggleBtnOff {
  background: rgba(198, 40, 40, 0.8) !important;
}
.toggleBtnOff:hover:not(:disabled) {
  background: rgba(198, 40, 40, 0.95) !important;
}

/* Status badges top-left of preview */
.statusBadges {
  position: absolute;
  top: 12px;
  left: 12px;
  display: flex;
  gap: 6px;
  z-index: 10;
}

.badge {
  font-size: 11px;
  font-weight: 600;
  padding: 3px 10px;
  border-radius: 20px;
  backdrop-filter: blur(6px);
}

.badgeOn {
  background: rgba(0, 196, 116, 0.18);
  color: #00c474;
  border: 1px solid rgba(0, 196, 116, 0.3);
}

.badgeOff {
  background: rgba(255, 82, 82, 0.18);
  color: #ff5252;
  border: 1px solid rgba(255, 82, 82, 0.3);
}

/* ── Right panel ──────────────────────────────────────────────── */
.rightPanel {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

/* Mic level meter */
.micMeter { display: flex; flex-direction: column; gap: 6px; }
.micMeterLabel { font-size: 12px; color: #8899aa; }
.micMeterTrack {
  height: 6px;
  background: rgba(255,255,255,0.07);
  border-radius: 6px;
  overflow: hidden;
}
.micMeterFill {
  height: 100%;
  background: linear-gradient(90deg, #00c474, #4fc3f7);
  border-radius: 6px;
  transition: width 0.1s ease-out;
}

/* Field */
.field { display: flex; flex-direction: column; gap: 7px; }
.label { font-size: 13px; font-weight: 500; color: #8899aa; }

.input {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  color: #e0ecff;
  padding: 13px 15px;
  font-size: 15px;
  font-family: inherit;
  outline: none;
  transition: border-color 0.2s;
}
.input:focus { border-color: rgba(22,104,220,0.6); }
.input::placeholder { color: #334455; }

/* Device summary */
.deviceSummary {
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  padding: 12px 14px;
}

.deviceRow {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #8899aa;
}

.deviceUnavailable { opacity: 0.5; }

/* Join button */
.joinBtn {
  background: linear-gradient(135deg, #1668dc, #0e4fa8);
  color: #fff;
  border: none;
  border-radius: 14px;
  padding: 14px;
  font-size: 16px;
  font-weight: 700;
  font-family: inherit;
  cursor: pointer;
  transition: opacity 0.15s, transform 0.1s;
  box-shadow: 0 4px 24px rgba(22,104,220,0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 52px;
}
.joinBtn:hover:not(:disabled) { opacity: 0.88; transform: translateY(-1px); }
.joinBtn:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

.joinSpinner {
  width: 20px; height: 20px;
  border: 2px solid rgba(255,255,255,0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  display: inline-block;
}

.hint {
  font-size: 12px;
  color: #334455;
  text-align: center;
  line-height: 1.5;
}

/* ── Responsive ───────────────────────────────────────────────── */
@media (max-width: 700px) {
  .card { padding: 24px 18px; }

  .body {
    grid-template-columns: 1fr;
  }

  .rightPanel {
    order: -1; /* name input appears above preview on mobile */
  }

  .statusBadges { flex-wrap: wrap; }
}
